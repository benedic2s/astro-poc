---
const response = await fetch("https://rickandmortyapi.com/graphql",
  {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({
      query: `
        query {
        characters(page: 2, filter: {name: "Morty"}) {
        info {
        count
        }
        results {
        name
        }
    }
    location(id: 1) {
        id
    }
    episodesByIds(ids: [1, 2]) {
        id
    }
    }
      `,
      variables: {
        id: "ZmlsbXM6MQ==",
      },
    }),
  });

import '@gjensidige/builders-components/dist/style.css';
import '@gjensidige/builders-fonts/dist/fonts.css';

import BaseLayout from '../layouts/BaseLayout.astro';

const json = await response.json();
const { characters } = json.data;
---

<BaseLayout>
	
	<p>{characters.results[0].name}</p>
	<ul>
		{characters.results.map((character) => {
			return <li>{character.name}</li>
		})}

	</ul>

</BaseLayout>